this.kontra.init();var goalsprite,usersprite,loop,kontra,moveArr=[],spriteArr=[],spriteY=-30,lastColor=0,loopRunning=!1;function createStaticElems(){return goalsprite=kontra.sprite({x:0,y:125,color:"#000",width:500,height:1}),usersprite=kontra.sprite({x:70,y:120,color:"purple",width:10,height:5}),spriteArr.push(goalsprite),spriteArr.push(usersprite),document.addEventListener("keydown",function(o){console.log("keydown",o),console.log(o.keyCode)}),!0}function createMovingElems(){for(var o=1;o<=5;o++){var t=kontra.sprite({x:randomizeVal("offsetX"),y:spriteY,color:randomizeVal("color"),width:10,height:5,dy:randomizeVal("dropRate")});moveArr.push(t),5===o&&addElemsToCanvas()}}function addElemsToCanvas(){loop=kontra.gameLoop({update:function(){moveArr.forEach(function(o){o.update(),o.y>kontra.canvas.height&&(o.y=spriteY,o.x=randomizeVal("offsetX"),o.color=randomizeVal("color"),o.dy=randomizeVal("dropRate")),o.collidesWith(goalsprite)&&(o.y=spriteY,o.x=randomizeVal("offsetX"),o.color=randomizeVal("color"),o.dy=randomizeVal("dropRate"))})},render:function(){spriteArr.forEach(function(o){o.render()}),moveArr.forEach(function(o){o.render()})}}),startLoop(),btnEvents()}function startLoop(){loop.start(),loopRunning=!0}function stopLoop(){loop.stop(),loopRunning=!1}function btnEvents(){var t=document.querySelectorAll("button.button-action");document.querySelector(".button-pause").classList.add("js-active"),t.length&&t.forEach(function(o){toggleActions(t,o),o.addEventListener("click",function(){toggleActions(t,o)})})}function toggleActions(o,e){o.forEach(function(o){o.dataset.jsAction===e.dataset.jsAction&&(o.classList.toggle("js-active"),e.classList.toggle("js-active"));var t=document.querySelector(".button-start");document.querySelector(".button-pause").addEventListener("click",function(){loopRunning&&stopLoop()}),t.addEventListener("click",function(){loopRunning||startLoop()})}),console.log(e)}function randomizeVal(o){if("offsetX"===o){var t=20,e=Math.ceil(1),r=Math.floor(13);return t*=Math.floor(Math.random()*(r-e))+e}if("dropRate"===o){return(2*Math.random()+1).toFixed(2)}if("color"===o){var n,a=4*Math.random()+1,i=parseInt(a);switch(i===lastColor&&i++,lastColor=i){case 0:n="red";break;case 1:n="yellow";break;case 2:n="orange";break;case 3:n="blue";break;default:n="green"}return n}}setTimeout(function(){console.log("now"),createStaticElems()&&createMovingElems()},1e3);